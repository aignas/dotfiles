#!/bin/bash
#
# dot
#
# `dot` handles installation, updates, things like that. Run it
# periodically to make sure you're on the latest and greatest.

set -e

parent_dir="$(cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd -P)"
dotfiles_dir="$(cd "$( dirname "$parent_dir" )" && pwd -P)"

print_help() {
  cat <<EOF
dot -- dotfiles management

Usage: dot [options]

Options:
  -e, --edit    Open dotfiles directory for editing
  -h, --help    Show this help message and exit
EOF
}

while test $# -gt 0; do
  case "$1" in
    "-h"|"--help") print_help;;
    "-e"|"--edit") exec "$EDITOR" "$dotfiles_dir";;
    *)
      echo "Invalid option: $1"
      print_help
      ;;
  esac
  exit
  shift
done

# Install software
export DOTFILES=$dotfiles_dir
echo "â€º $dotfiles_dir/script/install"
"$dotfiles_dir/script/install"
